(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{12:function(t){t.exports=JSON.parse('[{"id":1,"title":"iPad 4 Mini","price":500.01,"inventory":2},{"id":2,"title":"H&M T-Shirt White","price":10.99,"inventory":10},{"id":3,"title":"Charli XCX - Sucker CD","price":19.99,"inventory":5}]')},13:function(t,e,a){t.exports=a(26)},26:function(t,e,a){"use strict";a.r(e);var r=a(0),c=a.n(r),n=a(4),d=a(2),l=a(3),i=(a(25),a(11)),u=a(1);const o={addedIds:[],quantityById:{}},s=(t=o.addedIds,e)=>{switch(e.type){case"ADD_TO_CART":return-1!==t.indexOf(e.productId)?t:[...t,e.productId];default:return t}},p=(t=o.quantityById,e)=>{switch(e.type){case"ADD_TO_CART":const a=e.productId;return Object(u.a)(Object(u.a)({},t),{},{[a]:(t[a]||0)+1});default:return t}};var E=(t=o,e)=>{switch(e.type){case"CHECKOUT_REQUEST":return o;case"CHECKOUT_FAILURE":return e.cart;default:return{addedIds:s(t.addedIds,e),quantityById:p(t.quantityById,e)}}};const y=(t,e)=>{switch(e.type){case"ADD_TO_CART":return Object(u.a)(Object(u.a)({},t),{},{inventory:t.inventory-1});default:return t}};var m=Object(d.c)({byId:(t={},e)=>{switch(e.type){case"RECEIVE_PRODUCTS":return Object(u.a)(Object(u.a)({},t),e.products.reduce((t,e)=>(t[e.id]=e,t),{}));default:const a=e.productId;return a?Object(u.a)(Object(u.a)({},t),{},{[a]:y(t[a],e)}):t}},visibleIds:(t=[],e)=>{switch(e.type){case"RECEIVE_PRODUCTS":return e.products.map(t=>t.id);default:return t}}});const C=(t,e)=>t.byId[e],b=t=>t.visibleIds.map(e=>C(t,e));var v=Object(d.c)({cart:E,products:m});const O=t=>(t=>t.addedIds)(t.cart),h=(t,e)=>((t,e)=>t.quantityById[e]||0)(t.cart,e),I=(t,e)=>C(t.products,e),T=t=>O(t).reduce((e,a)=>e+I(t,a).price*h(t,a),0).toFixed(2),j=t=>O(t).map(e=>Object(u.a)(Object(u.a)({},I(t,e)),{},{quantity:h(t,e)}));var k=a(12);var _=(t,e)=>setTimeout(()=>t(k),e||100),R=(t,e,a)=>setTimeout(()=>e(),a||100);var S=({price:t,quantity:e,title:a})=>c.a.createElement("div",null,a," - $",t,e?" x ".concat(e):null);var A=({product:t,onAddToCartClicked:e})=>c.a.createElement("div",{style:{marginBottom:20}},c.a.createElement(S,{title:t.title,price:t.price,quantity:t.inventory}),c.a.createElement("button",{onClick:e,disabled:t.inventory>0?"":"disabled"},t.inventory>0?"Add to cart":"Sold Out"));var D=({title:t,children:e})=>c.a.createElement("div",null,c.a.createElement("h3",null,t),c.a.createElement("div",null,e));var U=Object(l.b)(t=>({products:b(t.products)}),{addToCart:t=>(e,a)=>{a().products.byId[t].inventory>0&&e((t=>({type:"ADD_TO_CART",productId:t}))(t))}})(({products:t,addToCart:e})=>c.a.createElement(D,{title:"Products"},t.map(t=>c.a.createElement(A,{key:t.id,product:t,onAddToCartClicked:()=>e(t.id)}))));var f=({products:t,total:e,onCheckoutClicked:a})=>{const r=t.length>0,n=r?t.map(t=>c.a.createElement(S,{title:t.title,price:t.price,quantity:t.quantity,key:t.id})):c.a.createElement("em",null,"Please add some products to cart.");return c.a.createElement("div",null,c.a.createElement("h3",null,"Your Cart"),c.a.createElement("div",null,n),c.a.createElement("p",null,"Total: $",e),c.a.createElement("button",{onClick:a,disabled:r?"":"disabled"},"Checkout"))};var q=Object(l.b)(t=>({products:j(t),total:T(t)}),{checkout:t=>(e,a)=>{const r=a().cart;e({type:"CHECKOUT_REQUEST"}),R(t,()=>{e({type:"CHECKOUT_SUCCESS",cart:r})})}})(({products:t,total:e,checkout:a})=>c.a.createElement(f,{products:t,total:e,onCheckoutClicked:()=>a(t)}));var w=()=>c.a.createElement("div",null,c.a.createElement("h2",null,"Shopping Cart Example"),c.a.createElement("hr",null),c.a.createElement(U,null),c.a.createElement("hr",null),c.a.createElement(q,null));const B=[i.a];const g=Object(d.d)(v,Object(d.a)(...B));g.dispatch(t=>{_(e=>{t((t=>({type:"RECEIVE_PRODUCTS",products:t}))(e))})}),Object(n.render)(c.a.createElement(l.a,{store:g},c.a.createElement(w,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.c884b975.chunk.js.map